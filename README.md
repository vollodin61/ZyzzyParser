

# ZyzzyParser Bot

Telegram-–±–æ—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel-—Ñ–∞–π–ª–æ–≤ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.10+
- Aiogram (Telegram Bot API)
- SQLAlchemy (—Ä–∞–±–æ—Ç–∞ —Å –ë–î)
- Redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
- SQLite (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- Docker + Docker Compose (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- Nginx (–æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏)
- Pandas (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å excel-—Ñ–∞–π–ª–∞–º–∏)
- Tenacity (–¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–¥ –∏ —Ä–µ–¥–∏—Å)

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Docker](https://docs.docker.com/get-docker/) –∏ [Docker Compose](https://docs.docker.com/compose/install/)

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```shell
git clone https://github.com/ZyzzyParser.git
cd ZyzzyParser
```


### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª `.env_template` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:
```shell
mv .env_template .env
```
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` - —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è:
```ini
DB_URL=url_–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä sqlite+aiosqlite:///–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
TOKEN=–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather
WEB_SERVER_HOST=0.0.0.0 # –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∞—Å nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ
WEB_SERVER_PORT=8443
BASE_WEBHOOK_URL=https://–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç))
WEBHOOK_PATH=/–ø—É—Ç—å –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ nginx
WEBHOOK_SECRET=some_webhook_secret
ADMINS_IDS=some_id, any_some_id, third_some_id
REDIS_HOST=–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ä–µ–¥–∏—Å–∫–∏
REDIS_PORT=–ø–æ—Ä—Ç –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–¥–∏—Å–∫–∞ —Å–ª—É—à–∞–µ—Ç
```
### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
```bash
docker-compose up -d --build
```
–ì–æ—Ç–æ–≤–æ! –í—ã –≤–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω—ã! –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç üòÖ
## üåê Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ reverse proxy —Å:
- HTTPS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ([–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã](https://certbot.eff.org/))
- –ë–∞–∑–æ–≤–æ–π –∑–∞—â–∏—Ç–æ–π
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

–ö–æ–Ω—Ñ–∏–≥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `nginx.conf`

## üóÑ Redis –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
Redis –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–Ω–∞–ø—à–æ—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
–ö–æ–Ω—Ñ–∏–≥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `redis_config/redis.conf`

## üê≥ Docker —Å–µ—Ä–≤–∏—Å—ã
- `zyzzybot` - –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–±–æ—Ç)
- `zyzzy_redis` - –†–µ–¥–∏—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- `zyzzy_nginx` - –í–µ–±-—Å–µ—Ä–≤–µ—Ä

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
docker-compose down
```

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
docker logs `–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞`
```


## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ì–æ—Ç–æ–≤—ã–π –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É —Å—Ç–µ–∫
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT

