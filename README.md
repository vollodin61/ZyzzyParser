## –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –∫—Ç–æ –±—É–¥–µ—Ç —ç—Ç–æ —á–∏—Ç–∞—Ç—å ü§ó
–≠—Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.
–ß—Ç–æ —Ö–æ—á—É —Å–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ:
1. –¢–∞–∫ –∫–∞–∫ —ç—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ, —Ç–æ —è –Ω–µ —Å—Ç–∞–ª —Å–æ–≤—Å–µ–º —É–∂–µ KISS –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏ –ø–∏—Å–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥. 
2. –†–µ—à–∏–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–µ—á—Ç–æ —É–¥–æ–±–æ–≤–∞—Ä–∏–º–æ–µ, —á—Ç–æ —Å—Ä–∞–∑—É –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
3. –ò—Å—Ö–æ–¥—è –∏–∑ –ø—É–Ω–∫—Ç–∞ ‚Ññ2 –Ω–µ —Å—Ç–∞–ª —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ç—Ç–µ—Ä–Ω Unit Of Works. –ü–æ–∫–∞–∑–∞–ª–æ—Å—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º, –Ω–æ —è –≤ —Ç–∞–∫–æ–µ —É–º–µ—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Redis –∏ Nginx –¥–ª—è —Ç–∞–∫–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –±–æ—Ç–∞, –∫–æ–Ω–µ—á–Ω–æ, —Ç–æ–∂–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ. –ù–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å–¥–µ–ª–∞–ª —ç—Ç–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –±–æ—Ç—ã [FillatovaBot](https://t.me/FillatovaBot) –∏ [FillatovaChatBot](https://t.me/FillatovaChatBot) —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ç–∞–∫–æ–º –∫–æ–Ω—Ñ–∏–≥–µ (–Ω–∞ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–µ, –≥–¥–µ —ç—Ç–∏ –±–æ—Ç—ã –≤–∏—Å—è—Ç, –µ—â—ë –∏ API –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∫—Ä—É—Ç–∏—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É Nginx). –¢–æ –∂–µ —Å–∞–º–æ–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –º–∏–¥–¥–ª–≤–∞—Ä—è–º –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∞–Ω—Ç–∏—Å–ø–∞–º –∏ —à–µ–¥—É–ª–µ—Ä; –∫–∞—Å—Ç–æ–º–Ω–æ–π –æ—à–∏–±–∫–µ, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫, –±–∞–∑–æ–≤–æ–º—É –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∏—é –ø—Ä–∏ –ø—Ä–∏—ë–º–µ —Ç–∞–±–ª–∏—Ü—ã - –≤—Å—ë —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è —Ç–∞–∫–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –±–æ—Ç–∞, –Ω–æ –ø–æ—á–µ–º—É –±—ã –∏ –Ω–µ –¥–∞))
5. –ó–∞–¥–∞–Ω–∏–µ —Å–æ "\*" –ø–æ–∫–∞ –Ω–µ —Å—Ç–∞–ª –¥–µ–ª–∞—Ç—å. –†–µ—à–∏–ª, —á—Ç–æ "–≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç" –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏ –µ—Å—Ç—å, –∑–Ω–∞—á–∏—Ç, –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å. –ê –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è "\*", —Ç–æ –∏ –µ—ë –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å.
6. "–Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —á—Ç–æ-—Ç–æ –∑–∞–±—ã–ª üòÖ"

# ZyzzyParser Bot

Telegram-–±–æ—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel-—Ñ–∞–π–ª–æ–≤ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
–î–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å—Å—ã–ª–∫–µ [@ZyzzyParserBot](https://t.me/ZyzzyParserBot)

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.10+
- Aiogram (Telegram Bot API)
- SQLAlchemy (—Ä–∞–±–æ—Ç–∞ —Å –ë–î)
- Redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
- SQLite (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- Docker + Docker Compose (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- Nginx (–æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏)
- Pandas (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å excel-—Ñ–∞–π–ª–∞–º–∏)
- Tenacity (–¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–¥ –∏ —Ä–µ–¥–∏—Å)

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Docker](https://docs.docker.com/get-docker/) –∏ [Docker Compose](https://docs.docker.com/compose/install/)

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```shell
git clone -b master https://github.com/ZyzzyParser.git
cd ZyzzyParser
```


### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª `.env_template` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:
```shell
mv .env_template .env
```
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` - —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è:
```ini
DB_URL=url_–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä sqlite+aiosqlite:///–Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
TOKEN=–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather
WEB_SERVER_HOST=0.0.0.0 # –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∞—Å nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ
WEB_SERVER_PORT=8443
BASE_WEBHOOK_URL=https://–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç))
WEBHOOK_PATH=/–ø—É—Ç—å –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ nginx
WEBHOOK_SECRET=some_webhook_secret
ADMINS_IDS=some_id, any_some_id, third_some_id
REDIS_HOST=–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ä–µ–¥–∏—Å–∫–∏
REDIS_PORT=–ø–æ—Ä—Ç –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–¥–∏—Å–∫–∞ —Å–ª—É—à–∞–µ—Ç
```
### 2.1 –ï—Å–ª–∏ —É –í–∞—Å –Ω–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∂–µ–ª–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤–µ–±—Ö—É–∫–∏ –∏ nginx, —Ç–æ:
–í —Ñ–∞–π–ª–µ `main.py` –º–æ–∂–Ω–æ –Ω–∞ –ø–æ–ª–ª–∏–Ω–≥–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å
–¥–ª—è —ç—Ç–æ–≥–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —Å—Ç—Ä–æ–∫–∏ 62-67 –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —Å—Ç—Ä–æ–∫–∏ 72-86
### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
```bash
docker-compose up -d --build
```
–ì–æ—Ç–æ–≤–æ! –í—ã –≤–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω—ã! –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç üòÖ

## üåê Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ reverse proxy —Å:
- HTTPS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π. [–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ —É–∫–∞–∑–∞—Ç—å –≤ nginx.conf –∞–¥—Ä–µ—Å —Å–≤–æ–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞!](https://certbot.eff.org/)
- –ë–∞–∑–æ–≤–æ–π –∑–∞—â–∏—Ç–æ–π
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

–ö–æ–Ω—Ñ–∏–≥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `nginx.conf`

## üóÑ Redis –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
Redis –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–Ω–∞–ø—à–æ—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
–ö–æ–Ω—Ñ–∏–≥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `redis_config/redis.conf`

## üê≥ Docker —Å–µ—Ä–≤–∏—Å—ã
- `zyzzybot` - –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–±–æ—Ç)
- `zyzzy_redis` - –†–µ–¥–∏—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- `zyzzy_nginx` - –í–µ–±-—Å–µ—Ä–≤–µ—Ä

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
docker-compose down
```

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
docker logs `–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞`
```


## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ì–æ—Ç–æ–≤—ã–π –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É —Å—Ç–µ–∫
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT

